let working = `                                            <td nowrap="">
  <p p >
</p ><div class="clsTournBracketHeader">Qualifier Bracket</div>
<p>
<u>Round 1</u><br>Match 2: <b><a href="player.asp?ID=18124">Peiman Dargahi</a> / <a href="player.asp?ID=16557">Vahid Nikoufar</a> Iran (16, Q8)</b> def. <a href="player.asp?ID=19887">Aidin Boobak</a> / <a href=
"player.asp?ID=19888">Armin Kami</a> Iran (Q9) 21-11, 19-21, 15-5 (0:48)
</p><p>
<u>Round 2</u><br>Match 9: <b><a href="player.asp?ID=18124">Peiman Dargahi</a> / <a href="player.asp?ID=16557">Vahid Nikoufar</a> Iran (16, Q8)</b> def. <a href="player.asp?ID=18965">Peter Lundgren</a> / <a hre
f="player.asp?ID=11802">Jakob Wijk Tegenrot</a> Sweden (7, Q1) 21-13, 21-13 (0:31)
<br>Match 10: <b><a href="player.asp?ID=12982">Bahman Gholipoury</a> / <a href="player.asp?ID=11805">Aghamohammad Salagh</a> Iran (10, Q4)</b> def. <a href="player.asp?ID=19403">Jedrzej Brozyniak</a> / <a href=
"player.asp?ID=9144">Piotr Janiak</a> Poland (13, Q5) 19-21, 21-13, 15-12 (0:48)
<br>Match 11: <b><a href="player.asp?ID=14425">Kalteh Kambiz</a> / <a href="player.asp?ID=17704">Rasoul Yamrali</a> Iran (9, Q3)</b> def. <a href="player.asp?ID=17410">Sina Enayati</a> / <a href="player.asp?ID=
16550">Amir Shoushtarizadeh</a> Iran (14, Q6) 21-11, 21-13 (0:37)
<br>Match 12: <b><a href="player.asp?ID=19008">Piotr Groszek</a> / <a href="player.asp?ID=19655">Pawel Lewandowski</a> Poland (15, Q7)</b> def. <a href="player.asp?ID=15909">Keisuke Shimizu</a> / <a href="playe
r.asp?ID=16252">Hideki Yoshida</a> Japan (8, Q2) 23-21, 13-21, 15-11 (0:47)
</p><p>
</p><div class="clsTournBracketHeader">Pool A</div>
<p>
<u>Round 1</u><br>Match 1: <b><a href="player.asp?ID=15951">Bahman Salemi</a> / <a href="player.asp?ID=16552">Arash Vakili</a> Iran (1)</b> def. <a href="player.asp?ID=18124">Peiman Dargahi</a> / <a href="playe
r.asp?ID=16557">Vahid Nikoufar</a> Iran (16, Q8) 21-16, 18-21, 15-11 (1:03)
<br>Match 2: <b><a href="player.asp?ID=14425">Kalteh Kambiz</a> / <a href="player.asp?ID=17704">Rasoul Yamrali</a> Iran (9, Q3)</b> def. <a href="player.asp?ID=15909">Keisuke Shimizu</a> / <a href="player.asp?I
D=16252">Hideki Yoshida</a> Japan (8, Q2) 21-14, 21-19 (0:42)
</p><p>
<u>Round 2</u><br>Match 9: <b><a href="player.asp?ID=15951">Bahman Salemi</a> / <a href="player.asp?ID=16552">Arash Vakili</a> Iran (1)</b> def. <a href="player.asp?ID=14425">Kalteh Kambiz</a> / <a href="player
.asp?ID=17704">Rasoul Yamrali</a> Iran (9, Q3) 19-21, 21-16, 15-10 (0:53)
<br>Match 10: <b><a href="player.asp?ID=18124">Peiman Dargahi</a> / <a href="player.asp?ID=16557">Vahid Nikoufar</a> Iran (16, Q8)</b> def. <a href="player.asp?ID=15909">Keisuke Shimizu</a> / <a href="player.as
p?ID=16252">Hideki Yoshida</a> Japan (8, Q2) 21-10, 21-16 (0:29)
</p><p>
</p><div class="clsTournBracketHeader">Pool B</div>
<p>
<u>Round 1</u><br>Match 3: <b><a href="player.asp?ID=15996">Abolhamed Mirzaali</a> / <a href="player.asp?ID=11808">Rahman Raoufi</a> Iran (2)</b> def. <a href="player.asp?ID=19008">Piotr Groszek</a> / <a href="
player.asp?ID=19655">Pawel Lewandowski</a> Poland (15, Q7) 21-23, 21-13, 15-13 (0:53)
<br>Match 4: <b><a href="player.asp?ID=12982">Bahman Gholipoury</a> / <a href="player.asp?ID=11805">Aghamohammad Salagh</a> Iran (10, Q4)</b> def. <a href="player.asp?ID=18965">Peter Lundgren</a> / <a href="pla
yer.asp?ID=11802">Jakob Wijk Tegenrot</a> Sweden (7, Q1) 25-23, 22-20 (0:49)
</p><p>
<u>Round 2</u><br>Match 11: <b><a href="player.asp?ID=12982">Bahman Gholipoury</a> / <a href="player.asp?ID=11805">Aghamohammad Salagh</a> Iran (10, Q4)</b> def. <a href="player.asp?ID=15996">Abolhamed Mirzaali
</a> / <a href="player.asp?ID=11808">Rahman Raoufi</a> Iran (2) 23-21, 23-21 (0:44)
<br>Match 12: <b><a href="player.asp?ID=19008">Piotr Groszek</a> / <a href="player.asp?ID=19655">Pawel Lewandowski</a> Poland (15, Q7)</b> def. <a href="player.asp?ID=18965">Peter Lundgren</a> / <a href="player
.asp?ID=11802">Jakob Wijk Tegenrot</a> Sweden (7, Q1) 22-24, 22-20, 15-9 (0:53)
</p><p>
</p><div class="clsTournBracketHeader">Pool C</div>
<p>
<u>Round 1</u><br>Match 5: <b><a href="player.asp?ID=17546">Nuttanon Inkiew</a> / <a href="player.asp?ID=13843">Sedtawat Padsawud</a> Thailand (3)</b> def. <a href="player.asp?ID=17410">Sina Enayati</a> / <a hr
ef="player.asp?ID=16550">Amir Shoushtarizadeh</a> Iran (14, Q6) 21-13, 21-17 (0:29)
<br>Match 6: <b><a href="player.asp?ID=18105">Kitti Duangjinda</a> / <a href="player.asp?ID=18166">Dunwinit Kaewsai</a> Thailand (6)</b> def. <a href="player.asp?ID=19017">Abolhassan Khakizadeh</a> / <a href="p
layer.asp?ID=19015">Amir Malmir</a> Iran (11) 21-19, 21-19 (0:42)
</p><p>
<u>Round 2</u><br>Match 13: <b><a href="player.asp?ID=17546">Nuttanon Inkiew</a> / <a href="player.asp?ID=13843">Sedtawat Padsawud</a> Thailand (3)</b> def. <a href="player.asp?ID=18105">Kitti Duangjinda</a> /
<a href="player.asp?ID=18166">Dunwinit Kaewsai</a> Thailand (6) 21-17, 21-16 (0:33)
<br>Match 14: <b><a href="player.asp?ID=17410">Sina Enayati</a> / <a href="player.asp?ID=16550">Amir Shoushtarizadeh</a> Iran (14, Q6)</b> def. <a href="player.asp?ID=19017">Abolhassan Khakizadeh</a> / <a href=
"player.asp?ID=19015">Amir Malmir</a> Iran (11) 21-17, 21-18 (0:39)
</p><p>
</p><div class="clsTournBracketHeader">Pool D</div>
<p>
<u>Round 1</u><br>Match 7: <b><a href="player.asp?ID=19403">Jedrzej Brozyniak</a> / <a href="player.asp?ID=9144">Piotr Janiak</a> Poland (13, Q5)</b> def. <a href="player.asp?ID=10957">Hitoshi Murakami</a> / <a
 href="player.asp?ID=17403">Takashi Tsuchiya</a> Japan (4) 21-18, 21-19 (0:51)
<br>Match 8: <b><a href="player.asp?ID=16934">Alireza Aghajani</a> / <a href="player.asp?ID=17338">Javad Firouzpourbandpei</a> Iran (12)</b> def. <a href="player.asp?ID=17110">Masato Kurasaka</a> / <a href="pla
yer.asp?ID=16034">Kensuke Shoji</a> Japan (5) 21-14, 17-21, 15-10 (0:43)
</p><p>
<u>Round 2</u><br>Match 15: <b><a href="player.asp?ID=16934">Alireza Aghajani</a> / <a href="player.asp?ID=17338">Javad Firouzpourbandpei</a> Iran (12)</b> def. <a href="player.asp?ID=19403">Jedrzej Brozyniak</
a> / <a href="player.asp?ID=9144">Piotr Janiak</a> Poland (13, Q5) 21-19, 21-10 (0:34)
<br>Match 16: <b><a href="player.asp?ID=10957">Hitoshi Murakami</a> / <a href="player.asp?ID=17403">Takashi Tsuchiya</a> Japan (4)</b> def. <a href="player.asp?ID=17110">Masato Kurasaka</a> / <a href="player.as
p?ID=16034">Kensuke Shoji</a> Japan (5) 21-14, 21-23, 15-11 (0:56)
</p><p>
</p><div class="clsTournBracketHeader">Winner's Bracket</div>
<p>
<u>Round 1</u><br>Match 17: <b><a href="player.asp?ID=15996">Abolhamed Mirzaali</a> / <a href="player.asp?ID=11808">Rahman Raoufi</a> Iran (2)</b> def. <a href="player.asp?ID=17410">Sina Enayati</a> / <a href="
player.asp?ID=16550">Amir Shoushtarizadeh</a> Iran (14, Q6) 21-14, 21-15 (0:37)
<br>Match 18: <b><a href="player.asp?ID=18105">Kitti Duangjinda</a> / <a href="player.asp?ID=18166">Dunwinit Kaewsai</a> Thailand (6)</b> def. <a href="player.asp?ID=19008">Piotr Groszek</a> / <a href="player.a
sp?ID=19655">Pawel Lewandowski</a> Poland (15, Q7) 18-21, 21-18, 15-10 (0:55)
<br>Match 19: <b><a href="player.asp?ID=18124">Peiman Dargahi</a> / <a href="player.asp?ID=16557">Vahid Nikoufar</a> Iran (16, Q8)</b> def. <a href="player.asp?ID=19403">Jedrzej Brozyniak</a> / <a href="player.
asp?ID=9144">Piotr Janiak</a> Poland (13, Q5) 15-21, 21-17, 15-13 (0:51)
<br>Match 20: <b><a href="player.asp?ID=10957">Hitoshi Murakami</a> / <a href="player.asp?ID=17403">Takashi Tsuchiya</a> Japan (4)</b> def. <a href="player.asp?ID=14425">Kalteh Kambiz</a> / <a href="player.asp?
ID=17704">Rasoul Yamrali</a> Iran (9, Q3) 21-16, 21-17 (0:42)
</p><p>
<u>Round 2</u><br>Match 21: <b><a href="player.asp?ID=15951">Bahman Salemi</a> / <a href="player.asp?ID=16552">Arash Vakili</a> Iran (1)</b> def. <a href="player.asp?ID=15996">Abolhamed Mirzaali</a> / <a href="
player.asp?ID=11808">Rahman Raoufi</a> Iran (2) 21-18, 21-16 (0:40)
<br>Match 22: <b><a href="player.asp?ID=16934">Alireza Aghajani</a> / <a href="player.asp?ID=17338">Javad Firouzpourbandpei</a> Iran (12)</b> def. <a href="player.asp?ID=18105">Kitti Duangjinda</a> / <a href="p
layer.asp?ID=18166">Dunwinit Kaewsai</a> Thailand (6) 21-14, 21-18 (0:44)
<br>Match 23: <b><a href="player.asp?ID=17546">Nuttanon Inkiew</a> / <a href="player.asp?ID=13843">Sedtawat Padsawud</a> Thailand (3)</b> def. <a href="player.asp?ID=18124">Peiman Dargahi</a> / <a href="player.
asp?ID=16557">Vahid Nikoufar</a> Iran (16, Q8) 11-21, 21-18, 15-13 (0:43)
<br>Match 24: <b><a href="player.asp?ID=10957">Hitoshi Murakami</a> / <a href="player.asp?ID=17403">Takashi Tsuchiya</a> Japan (4)</b> def. <a href="player.asp?ID=12982">Bahman Gholipoury</a> / <a href="player.
asp?ID=11805">Aghamohammad Salagh</a> Iran (10, Q4) 21-16, 21-16 (0:46)
</p><p><a name="SemiFinals"></a>
</p><div class="clsTournBracketHeader">Semifinals</div>
<br>Match 25: <b><a href="player.asp?ID=16934">Alireza Aghajani</a> / <a href="player.asp?ID=17338">Javad Firouzpourbandpei</a> Iran (12)</b> def. <a href="player.asp?ID=15951">Bahman Salemi</a> / <a href="play
er.asp?ID=16552">Arash Vakili</a> Iran (1) 21-18, 14-21, 16-14 (0:58)
<br>Match 26: <b><a href="player.asp?ID=17546">Nuttanon Inkiew</a> / <a href="player.asp?ID=13843">Sedtawat Padsawud</a> Thailand (3)</b> def. <a href="player.asp?ID=10957">Hitoshi Murakami</a> / <a href="playe
r.asp?ID=17403">Takashi Tsuchiya</a> Japan (4) 21-17, 21-19 (0:39)
<p>
</p><div class="clsTournBracketHeader">Bronze Medal</div>
<br>Match 27: <b><a href="player.asp?ID=15951">Bahman Salemi</a> / <a href="player.asp?ID=16552">Arash Vakili</a> Iran (1)</b> def. <a href="player.asp?ID=10957">Hitoshi Murakami</a> / <a href="player.asp?ID=17
403">Takashi Tsuchiya</a> Japan (4) 21-17, 21-16 (0:39)
<p>
</p><div class="clsTournBracketHeader">Gold Medal</div>
<br>Match 28: <b><a href="player.asp?ID=17546">Nuttanon Inkiew</a> / <a href="player.asp?ID=13843">Sedtawat Padsawud</a> Thailand (3)</b> def. <a href="player.asp?ID=16934">Alireza Aghajani</a> / <a href="playe
r.asp?ID=17338">Javad Firouzpourbandpei</a> Iran (12) 17-21, 21-17, 14-12 retired (0:55)
                                                </td>
`

// split block of text into tournament parts
let matchArray = []
let tournamentParts = []
while (working.indexOf('Header">') > 10) {
  let start = working.indexOf('Header">')
  let check = working.slice(start + 8)
  // console.log(check)
  let end = check.indexOf('Header">')
  // console.log(end)
  let part = check.slice(0, end - 36)
  // console.log(`new part ----------------------------------------- ${part}`)
  tournamentParts.push(part)
  working = check.slice(end - 37)
  // console.log(working)
}
const getFinals = (round, roundNum, superRound) => {
  let matches = {
    superRound: superRound,
    subRound: roundNum,
    matchString: ''
  }
  if (superRound === 'Semifinals') {
    getMatches(round, roundNum, superRound)
  } else {
    matches.matchString = round
    matchArray.push(matches)
  }
}

const getMatches = (round, roundNum, superRound) => {

  // matchArray.push(matches)
  let match = round.split('Match')
  match.forEach(element => {
    let matches = {
      superRound: superRound,
      subRound: roundNum,
      matchString: ''
    }
    if (element.indexOf('href') !== -1) {
matches.matchString = element
matchArray.push(matches)
    }
  });
}

const getRounds = (part) => {
  if (part.indexOf('Round 1') === -1) {
    let start = part.indexOf(`Header">`)
    let end = part.indexOf(`</div>`)
    let superRound = part.slice(start + 1, end)
    getFinals(part, null, superRound)
  } else {
    let end = part.indexOf('</div>')
    superRound = part.slice(0, end)
    let round1Start = part.indexOf('Round 1')
    let round1End = part.indexOf('</p><p>')
    let round1 = part.slice(round1Start, round1End)
    let roundNum = 'round 1'
    getMatches(round1, roundNum, superRound)
    let round2Start = part.indexOf('Round 2')
    let round2 = part.slice(round2Start)
    roundNum = 'round 2'
    // console.log(round2)
    getMatches(round2, roundNum, superRound)
  }
}

tournamentParts.map(part => getRounds(part)
)

console.log(matchArray)
let matchInfo = {
  superRound: '',
  subRound: '',
  playerAName: '',
  playerAId: '',
  playerBName: '',
  playerBId: '',
  playerCName: '',
  playerCId: '',
  playerDName: '',
  playerDId: '',
  playerANationality: '',
  playerBNationality: '',
  playerCNationality: '',
  playerDNationality: '',
  set1Team1Score: '',
  set1Team2Score: '',
  set2Team1Score: '',
  set2Team2Score: '',
  set3Team1Score: '',
  set3Team2Score: ''
}